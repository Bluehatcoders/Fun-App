const blocks=document.querySelectorAll("div"),results=document.querySelector(".message"),reset=document.querySelector(".reset"),text=document.querySelector(".text"),movement=[{answer:[1,2,3]},{answer:[1,4,7]},{answer:[2,5,8]},{answer:[3,6,9]},{answer:[4,5,6]},{answer:[7,8,9]},{answer:[7,5,3]},{answer:[1,5,9]},];let counter=0,playerOneState=[],playerTwoState=[],playerOneWin=!1,playerTwoWin=!1,draw=!1;const playerOne=e=>{function r(){for(let e=0;e<movement.length;e++)movement[e].answer.every(e=>playerOneState.includes(e))&&(playerOneWin=!0,results.classList.add("display"),text.innerText="red player wins!",results.classList.add("redWins"))}e.currentTarget.innerText="X",e.currentTarget.classList.add("red"),counter++,playerOneState.push(Number(box.dataset.number)),r()},playerTwo=e=>{function r(){for(let e=0;e<movement.length;e++)movement[e].answer.every(e=>playerTwoState.includes(e))&&(playerTwoWin=!0,results.classList.add("display"),text.innerText="blue player wins!",results.classList.add("blueWins"))}e.currentTarget.innerText="O",e.currentTarget.classList.add("blue"),counter++,playerTwoState.push(Number(box.dataset.number)),r()};blocks.forEach(e=>{e.addEventListener("click",function(e){""==(box=e.currentTarget).innerText&&counter%2==0?playerOne(e):""==box.innerText&&playerTwo(e),9==counter&&!1==playerOneWin&&!1==playerTwoWin&&(draw=!0,console.log("draw"),results.classList.add("display"),text.innerText="Draw")})}),reset.addEventListener("click",()=>{playerOneState=[],playerTwoState=[],counter=0,playerOneWin=!1,playerTwoWin=!1,draw=!1,blocks.forEach(e=>{e.innerText=""}),results.classList.remove("display"),results.classList.remove("redWins"),results.classList.remove("blueWins"),blocks.forEach(e=>{e.classList.remove("red"),e.classList.remove("blue")})});
